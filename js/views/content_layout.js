define(["jquery","underscore","backbone","views/youtube_search_results","views/youtube_playlists_results"],function(e,t,n,r,i,s){var o=n.View.extend({el:"#search-results",layout:{videos:r,playlists:i},currentLayout:"videos",initialize:function(){this.currentLayout=this.model.get("filter"),this.model.youtube().on("new-media-response",this.update,this),t.each(this.layout,function(e,t,n){n[t]=new e,this.$el.append(n[t].render().$el.hide())},this),this.$el.find(".well").remove()},onLayoutChange:function(e,t){this.layout[t]&&(this.disableView(this.layout[this.currentLayout],this.enableView),this.currentLayout=t)},enableView:function(){this.layout[this.currentLayout].delegateEvents(),this.layout[this.currentLayout].$el.fadeIn(200)},disableView:function(e,n){e.undelegateEvents(),e.$el.fadeOut(200,t.bind(n,this))},render:function(){return this},onSelected:function(e){this.trigger("search-result-selected",e)},update:function(e){e=t.isArray(e)?e:e.items,this.disableView(this.layout[this.currentLayout],function(){this.currentLayout=this.model.get("filter"),this.layout[this.currentLayout].update(e),this.enableView()})}});return o})